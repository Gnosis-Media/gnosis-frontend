{"ast":null,"code":"// src/pages/UploadPage.js\nimport React,{useState}from'react';import'./UploadPage.css';// Import the CSS file for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UploadPage(){const[content,setContent]=useState(null);const[fileName,setFileName]=useState('');// Store the file name for preview\nconst[message,setMessage]=useState('');// Store any messages (success/error)\nconst Uport=5001;const handleFileChange=e=>{const file=e.target.files[0];setContent(file);if(file){setFileName(file.name);// Set the file name to be displayed\n}};const handleUpload=async e=>{e.preventDefault();const formData=new FormData();formData.append('file',content);try{const response=await fetch(`http://127.0.0.1:${Uport}/api/upload`,{// Ensure this points to your Flask server\nmethod:'POST',body:formData});const data=await response.json();if(response.ok){setMessage('File uploaded successfully!');}else{setMessage(`Error: ${data.error}`);}}catch(error){setMessage('Upload failed. Please try again.');console.error('Upload failed',error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"upload-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"upload-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Content\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpload,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",className:\"custom-file-upload\",children:\"Choose File\"}),/*#__PURE__*/_jsx(\"input\",{id:\"file-upload\",type:\"file\",style:{display:'none'}// Hide the default file input\n,onChange:handleFileChange,required:true}),fileName&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Selected File: \",fileName]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Upload\"})]}),message&&/*#__PURE__*/_jsx(\"h3\",{children:message})]})});}export default UploadPage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","UploadPage","content","setContent","fileName","setFileName","message","setMessage","Uport","handleFileChange","e","file","target","files","name","handleUpload","preventDefault","formData","FormData","append","response","fetch","method","body","data","json","ok","error","console","className","children","onSubmit","htmlFor","id","type","style","display","onChange","required"],"sources":["/Users/baby/Documents/GitHub/gnosis-frontend/src/pages/UploadPage.js"],"sourcesContent":["// src/pages/UploadPage.js\nimport React, { useState } from 'react';\nimport './UploadPage.css'; // Import the CSS file for styling\n\nfunction UploadPage() {\n  const [content, setContent] = useState(null);\n  const [fileName, setFileName] = useState(''); // Store the file name for preview\n  const [message, setMessage] = useState(''); // Store any messages (success/error)\n  const Uport = 5001;\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    setContent(file);\n\n    if (file) {\n      setFileName(file.name); // Set the file name to be displayed\n    }\n  };\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append('file', content);\n\n    try {\n      const response = await fetch(`http://127.0.0.1:${Uport}/api/upload`, {\n        // Ensure this points to your Flask server\n        method: 'POST',\n        body: formData,\n      });\n\n      const data = await response.json();\n      if (response.ok) {\n        setMessage('File uploaded successfully!');\n      } else {\n        setMessage(`Error: ${data.error}`);\n      }\n    } catch (error) {\n      setMessage('Upload failed. Please try again.');\n      console.error('Upload failed', error);\n    }\n  };\n\n  return (\n    <div className=\"upload-container\">\n      <div className=\"upload-card\">\n        <h2>Upload Content</h2>\n        <form onSubmit={handleUpload}>\n          {/* Custom-styled button for file selection */}\n          <label htmlFor=\"file-upload\" className=\"custom-file-upload\">\n            Choose File\n          </label>\n\n          {/* Hidden file input */}\n          <input\n            id=\"file-upload\"\n            type=\"file\"\n            style={{ display: 'none' }} // Hide the default file input\n            onChange={handleFileChange}\n            required\n          />\n\n          {/* Display file name as preview */}\n          {fileName && (\n            <div>\n              <h3>Selected File: {fileName}</h3>\n            </div>\n          )}\n\n          <button type=\"submit\">Upload</button>\n        </form>\n\n        {/* Display message */}\n        {message && <h3>{message}</h3>}\n      </div>\n    </div>\n  );\n}\n\nexport default UploadPage;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,kBAAkB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACQ,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC9C,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC5C,KAAM,CAAAY,KAAK,CAAG,IAAI,CAElB,KAAM,CAAAC,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9BV,UAAU,CAACQ,IAAI,CAAC,CAEhB,GAAIA,IAAI,CAAE,CACRN,WAAW,CAACM,IAAI,CAACG,IAAI,CAAC,CAAE;AAC1B,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEjB,OAAO,CAAC,CAEhC,GAAI,CACF,KAAM,CAAAkB,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oBAAoBb,KAAK,aAAa,CAAE,CACnE;AACAc,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEN,QACR,CAAC,CAAC,CAEF,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClC,GAAIL,QAAQ,CAACM,EAAE,CAAE,CACfnB,UAAU,CAAC,6BAA6B,CAAC,CAC3C,CAAC,IAAM,CACLA,UAAU,CAAC,UAAUiB,IAAI,CAACG,KAAK,EAAE,CAAC,CACpC,CACF,CAAE,MAAOA,KAAK,CAAE,CACdpB,UAAU,CAAC,kCAAkC,CAAC,CAC9CqB,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACvC,CACF,CAAC,CAED,mBACE7B,IAAA,QAAK+B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B9B,KAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhC,IAAA,OAAAgC,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB9B,KAAA,SAAM+B,QAAQ,CAAEhB,YAAa,CAAAe,QAAA,eAE3BhC,IAAA,UAAOkC,OAAO,CAAC,aAAa,CAACH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,aAE5D,CAAO,CAAC,cAGRhC,IAAA,UACEmC,EAAE,CAAC,aAAa,CAChBC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAG;AAAA,CAC5BC,QAAQ,CAAE5B,gBAAiB,CAC3B6B,QAAQ,MACT,CAAC,CAGDlC,QAAQ,eACPN,IAAA,QAAAgC,QAAA,cACE9B,KAAA,OAAA8B,QAAA,EAAI,iBAAe,CAAC1B,QAAQ,EAAK,CAAC,CAC/B,CACN,cAEDN,IAAA,WAAQoC,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,QAAM,CAAQ,CAAC,EACjC,CAAC,CAGNxB,OAAO,eAAIR,IAAA,OAAAgC,QAAA,CAAKxB,OAAO,CAAK,CAAC,EAC3B,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAL,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}